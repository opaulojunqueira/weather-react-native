{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nexport default function getConsultApi() {\n  var axios, convertKelvinToC, getLocation;\n  return _regeneratorRuntime.async(function getConsultApi$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          getLocation = function _getLocation() {\n            var res, latitude, longitude;\n            return _regeneratorRuntime.async(function getLocation$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.next = 2;\n                    return _regeneratorRuntime.awrap(axios.get('https://geolocation-db.com/json/'));\n\n                  case 2:\n                    res = _context.sent;\n                    setLocation(res.data);\n                    _context.next = 6;\n                    return _regeneratorRuntime.awrap(res.data.latitude);\n\n                  case 6:\n                    latitude = _context.sent;\n                    _context.next = 9;\n                    return _regeneratorRuntime.awrap(res.data.longitude);\n\n                  case 9:\n                    longitude = _context.sent;\n                    axios.get(\"https://api.openweathermap.org/data/2.5/weather?lat=\" + latitude + \"&lon=\" + longitude + \"&appid=a10534631766659c98a684169d309aa5\").then(function (result) {\n                      var data = result.data;\n                      setTemperature(convertKelvinToC(data.main.temp));\n                      setSensation(convertKelvinToC(data.main.feels_like));\n                      setMoisture(data.main.humidity);\n                      setRain(data.main);\n                    });\n\n                  case 11:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          };\n\n          convertKelvinToC = function _convertKelvinToC(kelvin) {\n            return parseInt(kelvin - 273);\n          };\n\n          axios = require('axios');\n\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["D:/Projetos/ClimaApp/ClimaApp/api/ConsultApi.js"],"names":["getConsultApi","convertKelvinToC","getLocation","axios","get","res","setLocation","data","latitude","longitude","then","result","setTemperature","main","temp","setSensation","feels_like","setMoisture","humidity","setRain","kelvin","parseInt","require"],"mappings":";AAAA,eAAe,SAAeA,aAAf;AAAA,aAIFC,gBAJE,EAQIC,WARJ;AAAA;AAAA;AAAA;AAAA;AAQIA,UAAAA,WARJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qDASWC,KAAK,CAACC,GAAN,CAAU,kCAAV,CATX;;AAAA;AASDC,oBAAAA,GATC;AAUPC,oBAAAA,WAAW,CAACD,GAAG,CAACE,IAAL,CAAX;AAVO;AAAA,qDAYgBF,GAAG,CAACE,IAAJ,CAASC,QAZzB;;AAAA;AAYDA,oBAAAA,QAZC;AAAA;AAAA,qDAaiBH,GAAG,CAACE,IAAJ,CAASE,SAb1B;;AAAA;AAaDA,oBAAAA,SAbC;AAePN,oBAAAA,KAAK,CAACC,GAAN,0DAAiEI,QAAjE,aAAiFC,SAAjF,8CACKC,IADL,CACU,UAACC,MAAD,EAAY;AACd,0BAAMJ,IAAI,GAAGI,MAAM,CAACJ,IAApB;AACAK,sBAAAA,cAAc,CAACX,gBAAgB,CAACM,IAAI,CAACM,IAAL,CAAUC,IAAX,CAAjB,CAAd;AACAC,sBAAAA,YAAY,CAACd,gBAAgB,CAACM,IAAI,CAACM,IAAL,CAAUG,UAAX,CAAjB,CAAZ;AACAC,sBAAAA,WAAW,CAACV,IAAI,CAACM,IAAL,CAAUK,QAAX,CAAX;AACAC,sBAAAA,OAAO,CAACZ,IAAI,CAACM,IAAN,CAAP;AACH,qBAPL;;AAfO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIFZ,UAAAA,gBAJE,8BAIemB,MAJf,EAIuB;AAC9B,mBAAOC,QAAQ,CAACD,MAAM,GAAG,GAAV,CAAf;AACD,WANQ;;AAELjB,UAAAA,KAFK,GAEGmB,OAAO,CAAC,OAAD,CAFV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["export default async function getConsultApi() {\r\n\r\n    const axios = require('axios');\r\n\r\n    function convertKelvinToC(kelvin) {\r\n        return parseInt(kelvin - 273)\r\n      }\r\n\r\n    async function getLocation() {\r\n        const res = await axios.get('https://geolocation-db.com/json/')\r\n        setLocation(res.data)\r\n\r\n        const latitude = await res.data.latitude\r\n        const longitude = await res.data.longitude\r\n\r\n        axios.get(`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=a10534631766659c98a684169d309aa5`)\r\n            .then((result) => {\r\n                const data = result.data\r\n                setTemperature(convertKelvinToC(data.main.temp))\r\n                setSensation(convertKelvinToC(data.main.feels_like))\r\n                setMoisture(data.main.humidity)\r\n                setRain(data.main)\r\n            })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}